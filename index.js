import a from"express";import n from"body-parser";import r from"axios";let app=a(),port=3e3,lang=[],lang2=[],config={headers:{"x-rapidapi-key":"143c411a6cmsh8863ab57c063444p16a155jsne1d81f87a40e","x-rapidapi-host":"rapid-translate-multi-traduction.p.rapidapi.com","Content-Type":"application/json"}};app.use(a.static("public")),app.use(n.urlencoded({extended:!0})),app.get("/",(a,n)=>{n.render("index.ejs")}),app.post("/lang",(a,n)=>{lang=a.body.lang,n.render("index.ejs",n.locals={lang:lang[1],lang2:lang2[1]}),console.log("from->"+lang)}),app.post("/lang2",(a,n)=>{lang2=a.body.convert,n.render("index.ejs",n.locals={lang:lang[1],lang2:lang2[1]}),console.log("to->"+lang2)}),app.post("/translate",async(a,n)=>{try{let e=a.body.from,t=await r.post("https://rapid-translate-multi-traduction.p.rapidapi.com/t",{from:lang[0],to:lang2[0],q:e},config),l=t.data;n.render("index.ejs",n.locals={translatedText:l[0],text:e,lang:lang[1],lang2:lang2[1]}),lang=[],lang2=[]}catch(o){console.error(`Error: ${o}`),n.send("Some Error Occured!\uD83D\uDE2D")}}),app.listen(3e3,()=>console.log("Server is running on port 3000"));